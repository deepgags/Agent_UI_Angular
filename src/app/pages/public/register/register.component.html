<div class="container-fluid">
	<div class="row vh-100 justify-content-between">
		<div
			class="col-lg-6 d-none d-lg-block p-0 position-sticky top-0"
			style="height: 100vh; z-index: 1">
			<img
				class="img-fluid vh-100 w-100"
				src="/images/login-img.jpg"
				alt="Login Image"
				style="object-fit: cover" />
		</div>
		<div
			class="col-lg-6 col-12 p-4 rounded overflow-auto"
			style="height: 100vh">
			<form
				[formGroup]="customerForm"
				name="brokerageForm"
				class="w-100"
				(ngSubmit)="register()">
				<h4 class="mb-3 text-center">Sign Up</h4>

				<!-- Business Information Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Business Information</h6>
					<div class="mb-3">
						<p-select
							formControlName="brokerageType"
							[options]="brokerageTypes"
							optionLabel="name"
							optionValue="_id"
							placeholder="Select a Brokerage *"
							styleClass="w-100"
							(onChange)="brokerageChange($event.value)" />

						<span
							class="error"
							*ngIf="brokerageType?.invalid && (brokerageType?.dirty || brokerageType?.touched)">
							<span *ngIf="brokerageType?.errors?.['required']">Brokerage Type is required</span>
						</span>
					</div>
					<div class="mb-3">
						<input
							type="text"
							pInputText
							formControlName="businessName"
							placeholder="Business Name *"
							class="form-control"
							id="businessName" />

						<span
							class="error"
							*ngIf="businessName?.invalid && (businessName?.dirty || businessName?.touched)">
							<span *ngIf="businessName?.errors?.['required']">Business Name is required</span>
						</span>
					</div>
					<div class="mb-3">
						<input
							type="text"
							pInputText
							formControlName="address"
							placeholder="Enter brokerage address"
							class="form-control"
							id="address" />
					</div>
				</div>

				<!-- Personal Information Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Personal Information</h6>
					<div class="row">
						<div class="col-md-6">
							<div class="mb-3">
								<input
									type="text"
									pInputText
									formControlName="firstName"
									placeholder="Enter first name *"
									class="form-control"
									id="firstName"
									required />
								<span
									class="error"
									*ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)">
									<span *ngIf="firstName?.errors?.['required']">First Name is required</span>
								</span>
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-3">
								<input
									type="text"
									pInputText
									formControlName="lastName"
									placeholder="Enter last name *"
									class="form-control"
									id="lastName"
									required />
								<span
									class="error"
									*ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)">
									<span *ngIf="lastName?.errors?.['required']">Last Name is required</span>
								</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Contact Information Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Contact Information</h6>
					<!-- <div class="mb-3">
						<input
							type="email"
							pInputText
							formControlName="emailAddress"
							placeholder="Enter email address"
						class="form-control"
						id="emailAddress"
						required />
						<span
						class="error"
						*ngIf="emailAddress?.invalid && (emailAddress?.dirty || emailAddress?.touched)">
						<span *ngIf="emailAddress?.errors?.['required']">Email Address is required</span>
						<span *ngIf="emailAddress?.errors?.['email']">Enter a valid email address</span>
						</span>
					</div> -->
					<div class="row">
						<div class="col-md-6">
							<div class="mb-3">
								<input
									type="email"
									pInputText
									formControlName="emailAddress"
									placeholder="Enter email address *"
									class="form-control"
									id="emailAddress"
									required />
								<span
									class="error"
									*ngIf="emailAddress?.invalid && (emailAddress?.dirty || emailAddress?.touched)">
									<span *ngIf="emailAddress?.errors?.['required']">Email Address is required</span>
									<span *ngIf="emailAddress?.errors?.['email']">Enter a valid email address</span>
								</span>
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-3">
								<p-inputmask
									mask="999-999-9999"
									formControlName="phoneNumber"
									styleClass="form-control"
									placeholder="Phone Number *"
									id="phoneNumber"
									required />
								<span
									class="error"
									*ngIf="phoneNumber?.invalid && (phoneNumber?.dirty || phoneNumber?.touched)">
									<span *ngIf="phoneNumber?.errors?.['required']">Phone Number is required</span>
									<span *ngIf="phoneNumber?.errors?.['pattern']">Enter a valid phone number</span>
								</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Security Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Security</h6>
					<div class="row">
						<div class="col-md-6">
							<div class="mb-3">
								<p-password
									formControlName="password"
									[feedback]="true"
									[toggleMask]="true"
									placeholder="Enter password *"
									styleClass="w-100"
									inputId="password"
									inputStyleClass="form-control"
									id="password"
									required />
								<span
									class="error"
									*ngIf="password?.invalid && (password?.dirty || password?.touched)">
									<span *ngIf="password?.errors?.['required']">Password is required</span>
									<span *ngIf="password?.errors?.['pattern']">
										Password must be at least 8 characters long and include uppercase, lowercase, and a number.
									</span>
								</span>
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-3">
								<p-password
									formControlName="confirmPassword"
									[feedback]="false"
									[toggleMask]="true"
									placeholder="Confirm password *"
									styleClass="w-100"
									inputId="confirmPassword"
									inputStyleClass="form-control"
									id="confirmPassword"
									required />
								<span
									class="error"
									*ngIf="confirmPassword?.invalid && (confirmPassword?.dirty || confirmPassword?.touched)">
									<span *ngIf="confirmPassword?.errors?.['required']">Confirm Password is required</span>
								</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Images Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Upload Images</h6>
					<div class="row">
						<!-- <div class="col-md-6">
							<div class="upload-container p-3 border rounded mb-3 mb-md-0">
								<label class="form-label fw-semibold lable_font d-block me-3">Company Logo</label>
								<input
									type="file"
									(change)="onLogoImageChange($event)"
									class="form-control upload-btn w-50 lable_font"
									id="logoImageUpload"
									accept="image/*" />
							</div>
						</div> -->
						<div class="col-md-12">
							<div class="upload-container p-3 border rounded">
								<label class="form-label fw-semibold lable_font me-3 d-block">Profile Picture</label>
								<input
									type="file"
									(change)="onProfileImageChange($event)"
									class="form-control upload-btn w-100 lable_font"
									id="profileImageUpload"
									accept="image/*" />
								<div
									class="mt-3 p-2 border rounded bg-white shadow-sm"
									*ngIf="newSelectedProfileImageObservable | async as newSelectedProfileImage">
									<div class="text-center">
										<h6 class="text-dark fw-bold mb-2">Preview</h6>
										<img
											[src]="newSelectedProfileImage"
											class="rounded border image-preview"
											alt="Profile Picture Preview" />
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<button
					type="submit"
					id="btnSaveCustomer"
					class="btn btn-success w-100 mt-4 py-2">
					Create Account
				</button>
			</form>
			<div class="text-center mt-2">
				<span>Already have an account?</span>
				<a
					(click)="redirectToLogin()"
					class="btn text-decoration-none text-success fw-bold">
					Login
				</a>
			</div>
		</div>
	</div>
</div>
