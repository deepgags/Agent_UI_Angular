<div class="container-fluid">
	<div class="row vh-100 justify-content-between">
		<div
			class="col-lg-6 d-none d-lg-block p-0 position-sticky top-0"
			style="height: 100vh; z-index: 1">
			<img
				class="img-fluid vh-100 w-100"
				src="/images/login-img.jpg"
				alt="Login Image"
				style="object-fit: cover" />
		</div>
		<div
			class="col-lg-6 col-12 p-4 rounded overflow-auto"
			style="height: 100vh">
			<form
				[formGroup]="customerForm"
				name="brokerageForm"
				class="w-100"
				(ngSubmit)="register()">
				<h4 class="mb-3 text-center">Sign Up</h4>

				<!-- Business Information Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Business Information</h6>
					<div class="mb-3">
						<p-select
							formControlName="brokerageType"
							[options]="brokerageTypes"
							optionLabel="name"
							optionValue="_id"
							placeholder="Select a Brokerage"
							styleClass="w-100"
							(onChange)="brokerageChange($event.value)" />
					</div>
					<div class="mb-3">
						<input
							type="text"
							pInputText
							formControlName="businessName"
							placeholder="Business Name"
							class="form-control"
							id="businessName" />
					</div>
					<div class="mb-3">
						<input
							type="text"
							pInputText
							formControlName="address"
							placeholder="Enter brokerage address"
							class="form-control"
							id="address" />
					</div>
				</div>

				<!-- Personal Information Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Personal Information</h6>
					<div class="row">
						<div class="col-md-6">
							<div class="mb-3">
								<input
									type="text"
									pInputText
									formControlName="firstName"
									placeholder="Enter first name"
									class="form-control"
									id="firstName" />
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-3">
								<input
									type="text"
									pInputText
									formControlName="lastName"
									placeholder="Enter last name"
									class="form-control"
									id="lastName" />
							</div>
						</div>
					</div>
				</div>

				<!-- Contact Information Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Contact Information</h6>
					<div class="mb-3">
						<input
							type="email"
							pInputText
							formControlName="emailAddress"
							placeholder="Enter email address"
							class="form-control"
							id="emailAddress"
							required />
					</div>
					<div class="row">
						<div class="col-md-6">
							<div class="mb-3">
								<p-inputmask
									mask="999-999-9999"
									formControlName="phoneNumber"
									styleClass="form-control"
									placeholder="Phone Number"
									id="phoneNumber" />
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-3">
								<p-inputmask
									mask="999-999-9999"
									formControlName="cellNumber"
									styleClass="form-control"
									placeholder="Cell Number"
									id="cellNumber" />
							</div>
						</div>
					</div>
				</div>

				<!-- Security Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Security</h6>
					<div class="row">
						<div class="col-md-6">
							<div class="mb-3">
								<p-password
									formControlName="password"
									[feedback]="true"
									[toggleMask]="true"
									placeholder="Enter password"
									styleClass="w-100"
									inputId="password"
									inputStyleClass="form-control"
									id="password"
									required />
							</div>
						</div>
						<div class="col-md-6">
							<div class="mb-3">
								<p-password
									formControlName="confirmPassword"
									[feedback]="false"
									[toggleMask]="true"
									placeholder="Confirm password"
									styleClass="w-100"
									inputId="confirmPassword"
									inputStyleClass="form-control"
									id="confirmPassword"
									required />
							</div>
						</div>
					</div>
				</div>

				<!-- Images Section -->
				<div class="mb-3">
					<h6 class="text-muted mb-3 border-bottom pb-1">Upload Images</h6>
					<div class="row">
						<div class="col-md-6">
							<div class="upload-container p-3 border rounded mb-3 mb-md-0">
								<label class="form-label fw-semibold d-block">Company Logo</label>
								<input
									type="file"
									(change)="onFileChange($event)"
									data-cropper="#logoImageCropper"
									class="form-control upload-btn w-100"
									id="logoImageUpload"
									accept="image/*" />
								<div
									*ngIf="logoImageSource"
									id="LogoCropContainer"
									class="mt-3">
									<div class="row justify-content-center mt-3">
										<label class="text-center mb-2">Logo Preview</label>
										<div class="text-center">
											<ngx-smart-cropper
												id="logoImageCropper"
												[imageType]="'webp'"
												[cropX]="0"
												[cropY]="0"
												[cropWidth]="435"
												[cropHeight]="170"
												[theme]="'mixed'"
												[imageSource]="logoImageSource"
												(imageCroppedEvent)="onLogoImageCrop($event)"></ngx-smart-cropper>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="upload-container p-3 border rounded">
								<label class="form-label fw-semibold d-block">Profile Picture</label>
								<input
									type="file"
									(change)="onFileChange($event)"
									data-cropper="#profileImageCropper"
									class="form-control upload-btn w-100"
									id="profileImageUpload"
									accept="image/*" />
								<div
									*ngIf="profileImageSource"
									id="ProfileCropContainer"
									class="mt-3">
									<div class="row justify-content-center mt-3">
										<label class="text-center mb-2">Profile Preview</label>
										<div class="text-center">
											<ngx-smart-cropper
												id="profileImageCropper"
												[imageType]="'webp'"
												[cropX]="0"
												[cropY]="0"
												[cropWidth]="435"
												[cropHeight]="170"
												[theme]="'mixed'"
												[imageSource]="profileImageSource"
												(imageCroppedEvent)="onProfileImageCrop($event)" />
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<button
					type="submit"
					id="btnSaveCustomer"
					class="btn btn-success w-100 mt-4 py-2">
					Create Account
				</button>
			</form>
			<div class="text-center mt-2">
				<span>Already have an account?</span>
				<a
					(click)="redirectToLogin()"
					class="btn text-decoration-none text-success fw-bold">
					Login
				</a>
			</div>
		</div>
	</div>
</div>
